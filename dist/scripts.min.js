const pokemonRepository=function(){const t=[],e="https://pokeapi.co/api/v2/pokemon/?limit=100";document.querySelector("#modal-container");function n(e){"object"==typeof e&&"name"in e&&"detailsUrl"in e?t.push(e):console.log("The Pokemon is not correct<br>")}function o(t){c();const e=t.detailsUrl;return fetch(e).then(function(t){return t.json()}).then(function(e){l(),t.image=e.sprites.front_default,t.height=e.height;let n=e.types.map(function(t){return t.type.name});t.type=n}).catch(function(t){l(),console.error(t)})}function i(t){o(t).then(function(){!function(t){pokemonRepository.loadDetails(t).then(function(){const e=$(".modal-body");e.addClass("text-center");const n=$(".modal-title");$(".modal-header");n.empty(),e.empty();const o="<h1>"+t.name+"</h1>",i=$('<img class="modal-img img-thumbnail" width="50%">');i.attr("src",t.image),t.height<10?heightElement=$("<p>Height: "+10*t.height+"cm</p>"):heightElement=$("<p>Height: "+t.height/10+"m</p>");const c=$("<p>Type: "+t.type+"</p>");n.append(o),e.append(i),e.append(heightElement),e.append(c),$("#exampleModal").modal("toggle")})}(t)})}function c(){document.querySelector("#loading").style.visibility="visible"}function l(){document.querySelector("#loading").style.visibility="hidden"}return $(document).ready(function(){$("#nameInput").on("keyup",function(){var t=$(this).val().toLowerCase();$("#pokemon-list div").filter(function(){$(this).toggle($(this).text().toLowerCase().indexOf(t)>-1)})})}),{add:n,getAll:function(){return t},addListItem:function(t){const e=document.querySelector(".pokemon-list"),n=document.createElement("div");n.classList.add("list-item","light-shadow","text-sm-center","col-12","col-sm-4","p-sm-3","col-md-4","p-md-5","text-lg-center","col-lg-3","p-lg-5","col-xl-2","p-xl-3");const o=document.createElement("img");o.classList.add("list-img");const c=document.createElement("button");o.src="img/pokeball.svg",c.innerText=t.name,c.classList.add("pokemon-button","btn","btn-outline-light"),n.appendChild(o),n.appendChild(c),e.appendChild(n),n.addEventListener("click",function(e){i(t)})},loadList:function(){return c(),fetch(e).then(function(t){return t.json()}).then(function(t){l(),t.results.forEach(function(t){n({name:t.name.charAt(0).toUpperCase()+t.name.slice(1),detailsUrl:t.url})})}).catch(function(t){l(),console.error(t)})},loadDetails:o,showDetails:i}}();function darkMode(){const t=document.getElementById("check"),e=document.body;1==t.checked?e.classList.add("dark-mode"):e.classList.remove("dark-mode");const n=document.getElementById("pokemon-list").getElementsByTagName("li");for(let e=0;e<n.length;e++)1==t.checked?(n[e].classList.add("dark-shadow"),n[e].classList.remove("light-shadow")):n[e].classList.add("light-shadow")}pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(t){pokemonRepository.addListItem(t)})});
